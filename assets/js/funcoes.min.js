function cnvs_getCoordinates(t){let o=t.offsetX,a=t.offsetY;$("#get-coordenadas").html(`[${o},${a}]`).show().css({top:a,left:o+10}),document.title="Coordenadas: ("+o+","+a+")"}function cnvs_clearCoordinates(){document.title="Matrizes de Transformação Geométrica",$("#get-coordenadas").html("").hide()}function projecaoDePonto(t,o){let a=Math.round(t[0]*o[0][0]+t[1]*o[0][1]),e=Math.round(t[0]*o[1][0]+t[1]*o[1][1]);return{x:a,y:e}}function rotacao(t,o){let a=o*Math.PI/180,e=[[Math.cos(a),-Math.sin(a)],[Math.sin(a),Math.cos(a)]];return projecaoDePonto(t,e)}function translacao(t,o){let a=t[0]+o[0],e=t[1]+o[1];return{x:a,y:e}}function cisalhamento(t,o){return projecaoDePonto(t,[[1,o],[0,1]])}function reflexaoEmX(t){return projecaoDePonto(t,[[1,0],[0,-1]])}function reflexaoEmY(t){return projecaoDePonto(t,[[-1,0],[0,1]])}function reflexaoOrigem(t){return projecaoDePonto(t,[[-1,0],[0,-1]])}function escalamento(t,o,a){return projecaoDePonto(t,[[o,0],[0,a]])}function criarPlanoCartesiano(){for(let t=0;t<=canvas.width;t+=20){let o=2*t;ctx.beginPath(),ctx.moveTo(0,o),ctx.lineTo(canvas.width,o),ctx.stroke(),ctx.beginPath(),ctx.moveTo(o,0),ctx.lineTo(o,canvas.width),ctx.strokeStyle="black",ctx.stroke(),ctx.fill()}}var btnNotacao=document.getElementById("rotacao"),btnTranslacao=document.getElementById("translacao"),btnCisalhamento=document.getElementById("cisalhamento"),btnLimparPlano=document.getElementById("limpar-plano"),btnReflexaoEmY=document.getElementById("reflexao-em-y"),btnReflexaoOrigem=document.getElementById("reflexao-origem"),btnLimparGraficoExemplificacao=document.getElementById("limpar-grafico-exemplificacao"),plano=document.getElementById("coordiv"),canvas=document.getElementById("canvas"),ctx=canvas.getContext("2d"),matriz=[],obj={animationEnabled:!0,zoomEnabled:!0,title:{text:"Exemplicação usando um Plugin para mostrar no Plano"},axisX:{title:"X"},axisY:{title:"Y"},data:[{type:"scatter",toolTipContent:"<b>X:</b>{x}<br/><b>Y:</b>{y}",dataPoints:[]}]};const alfabeto="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("").reverse();document.getElementById("coordiv").onclick=function(t){let o=alfabeto.pop(),a=t.offsetX,e=t.offsetY,n=`<div style="left:${a}px;top:${e}px;" title="(${a},${e})" class="ponto-plano">\n   <span class="dot"></span>\n  <span class="pontos" style="display:none;z-index:9999;position:absolute;top:7px;left:-10px;"><strong>${o}</strong>(${a},${e})</span></div>`,r={x:a,y:e};r.letra=o,matriz.push(r),$("#coordiv").append(n)};let buttonCalcular=document.getElementById("calcular");buttonCalcular.onclick=function(){for(let{x:t,y:o}of matriz){let a=escalamento([t,o],5,5);console.log(a),obj.data[0].dataPoints.push({x:a.x,y:a.y})}},buttonCalcular.onmouseup=function(){setTimeout(function(){console.log(obj);var t=new CanvasJS.Chart("chartContainer",obj);t.render()},1e3)};let iniciar=!1;document.getElementById("reduzir-aumentar").oninput=function(){this.value;for(let{x:t,y:o}of matriz){let a=reflexaoEmX([t,o]);obj.data[0].dataPoints.push({x:a.x,y:a.y})}},document.getElementById("reduzir-aumentar").onmouseup=function(){iniciar=!0;var t=new CanvasJS.Chart("chartContainer",obj);t.render()},btnNotacao.oninput=function(){let t=this.value;console.log(matriz);for(let{x:o,y:a}of matriz){let e=rotacao([o,a],t);obj.data[0].dataPoints.push({x:e.x,y:e.y})}},btnNotacao.onmouseup=function(){setTimeout(function(){var t=new CanvasJS.Chart("chartContainer",obj);t.render()},1e3)},btnTranslacao.onmouseup=function(){let t=this.value;for(let{x:o,y:a}of matriz){console.log(o,a);let e=translacao([o,a],[parseInt(t),parseInt(t)]);obj.data[0].dataPoints.push({x:e.x,y:e.y})}setTimeout(function(){var t=new CanvasJS.Chart("chartContainer",obj);t.render()},1e3)},btnCisalhamento.onmouseup=function(){let t=this.value;for(let{x:o,y:a}of matriz){let e=cisalhamento([o,a],parseInt(t));obj.data[0].dataPoints.push({x:e.x,y:e.y})}console.log(obj.data[0].dataPoints)};var resetCanvas=function(){$("#chartContainer").remove(),$("#graph-container").prepend('<div id="chartContainer" style="height: 370px; width: 100%;"></div>'),obj.data[0].dataPoints=[]};$("#limpar-plano").click(function(){$(".ponto-plano").remove(),matriz=[],resetCanvas()}),$(btnLimparGraficoExemplificacao).click(function(){resetCanvas()}),$("#reflexao-em-y").click(function(){for(let{x:t,y:o}of matriz){let a=reflexaoEmY([t,o]);obj.data[0].dataPoints.push({x:a.x,y:a.y})}setTimeout(function(){var t=new CanvasJS.Chart("chartContainer",obj);t.render()},500)}),$(btnReflexaoOrigem).click(function(){for(let{x:t,y:o}of matriz){let a=reflexaoEmY([t,o]);obj.data[0].dataPoints.push({x:a.x,y:a.y})}setTimeout(function(){var t=new CanvasJS.Chart("chartContainer",obj);t.render()},500)}),canvas.width=$(plano).width(),canvas.height=$(plano).height(),criarPlanoCartesiano();let mostrarPontos=!1;$("#mostrar-pontos").click(function(){mostrarPontos?(mostrarPontos=!1,$(".pontos").hide(),$(this).html("MOSTRAR TEXTO DOS PONTOS")):(mostrarPontos=!0,$(".pontos").show(),$(this).html("ESCONDER PONTOS"))});